/*!
xdstorage - v0.1.0 - 2013-04-21
https://github.com/owiber/xdstorage
Copyright (c) 2013 Oliver Wong; Licensed MIT

easyXDM
MIT
(c) 2009-2011, Ã˜yvind Sean Kinsey, oyvind@kinsey.no.

store.js
(c) 2010-2012 Marcus Westin

CryptoJS
(c) 2009-2012 by Jeff Mott. All rights reserved.
*/
(function(){var XDStorage={},CryptoJS=CryptoJS||function(e,t){var n={},r=n.lib={},o=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),i=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,e=e.sigBytes;if(this.clamp(),r%4)for(var o=0;e>o;o++)t[r+o>>>2]|=(255&n[o>>>2]>>>24-8*(o%4))<<24-8*((r+o)%4);else if(n.length>65535)for(o=0;e>o;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(0|4294967296*e.random());return i.create(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],r=0;e>r;r++){var o=255&t[r>>>2]>>>24-8*(r%4);n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return i.create(n,t/2)}},s=a.Latin1={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],r=0;e>r;r++)n.push(String.fromCharCode(255&t[r>>>2]>>>24-8*(r%4)));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return i.create(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},f=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=i.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,a=this.blockSize,c=o/(4*a),c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0),t=c*a,o=e.min(4*t,o);if(t){for(var s=0;t>s;s+=a)this._doProcessBlock(r,s);s=r.splice(0,t),n.sigBytes-=o}return i.create(s,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=f.extend({init:function(){this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=f.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,n){return e.create(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return l.HMAC.create(e,n).finalize(t)}}});var l=n.algo={};return n}(Math);(function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var e=[],o=0;n>o;o+=3)for(var i=(255&t[o>>>2]>>>24-8*(o%4))<<16|(255&t[o+1>>>2]>>>24-8*((o+1)%4))<<8|255&t[o+2>>>2]>>>24-8*((o+2)%4),a=0;4>a&&n>o+.75*a;a++)e.push(r.charAt(63&i>>>6*(3-a)));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var e=e.replace(/\s/g,""),n=e.length,r=this._map,o=r.charAt(64);o&&(o=e.indexOf(o),-1!=o&&(n=o));for(var o=[],i=0,a=0;n>a;a++)if(a%4){var c=r.indexOf(e.charAt(a-1))<<2*(a%4),s=r.indexOf(e.charAt(a))>>>6-2*(a%4);o[i>>>2]|=(c|s)<<24-8*(i%4),i++}return t.create(o,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(e){function t(e,t,n,r,o,i,a){return e=e+(t&n|~t&r)+o+a,(e<<i|e>>>32-i)+t}function n(e,t,n,r,o,i,a){return e=e+(t&r|n&~r)+o+a,(e<<i|e>>>32-i)+t}function r(e,t,n,r,o,i,a){return e=e+(t^n^r)+o+a,(e<<i|e>>>32-i)+t}function o(e,t,n,r,o,i,a){return e=e+(n^(t|~r))+o+a,(e<<i|e>>>32-i)+t}var i=CryptoJS,a=i.lib,c=a.WordArray,a=a.Hasher,s=i.algo,u=[];(function(){for(var t=0;64>t;t++)u[t]=0|4294967296*e.abs(e.sin(t+1))})(),s=s.MD5=a.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,i){for(var a=0;16>a;a++){var c=i+a,s=e[c];e[c]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}for(var c=this._hash.words,s=c[0],f=c[1],l=c[2],p=c[3],a=0;64>a;a+=4)16>a?(s=t(s,f,l,p,e[i+a],7,u[a]),p=t(p,s,f,l,e[i+a+1],12,u[a+1]),l=t(l,p,s,f,e[i+a+2],17,u[a+2]),f=t(f,l,p,s,e[i+a+3],22,u[a+3])):32>a?(s=n(s,f,l,p,e[i+(a+1)%16],5,u[a]),p=n(p,s,f,l,e[i+(a+6)%16],9,u[a+1]),l=n(l,p,s,f,e[i+(a+11)%16],14,u[a+2]),f=n(f,l,p,s,e[i+a%16],20,u[a+3])):48>a?(s=r(s,f,l,p,e[i+(3*a+5)%16],4,u[a]),p=r(p,s,f,l,e[i+(3*a+8)%16],11,u[a+1]),l=r(l,p,s,f,e[i+(3*a+11)%16],16,u[a+2]),f=r(f,l,p,s,e[i+(3*a+14)%16],23,u[a+3])):(s=o(s,f,l,p,e[i+3*a%16],6,u[a]),p=o(p,s,f,l,e[i+(3*a+7)%16],10,u[a+1]),l=o(l,p,s,f,e[i+(3*a+14)%16],15,u[a+2]),f=o(f,l,p,s,e[i+(3*a+5)%16],21,u[a+3]));c[0]=0|c[0]+s,c[1]=0|c[1]+f,c[2]=0|c[2]+l,c[3]=0|c[3]+p},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash.words,t=0;4>t;t++)n=e[t],e[t]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}}),i.MD5=a._createHelper(s),i.HmacMD5=a._createHmacHelper(s)}(Math),function(){var e=CryptoJS,t=e.lib,n=t.Base,r=t.WordArray,t=e.algo,o=t.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,o=n.hasher.create(),i=r.create(),a=i.words,c=n.keySize,n=n.iterations;c>a.length;){s&&o.update(s);var s=o.update(e).finalize(t);o.reset();for(var u=1;n>u;u++)s=o.finalize(s),o.reset();i.concat(s)}return i.sigBytes=4*c,i}});e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),CryptoJS.lib.Cipher||function(e){var t=CryptoJS,n=t.lib,r=n.Base,o=n.WordArray,i=n.BufferedBlockAlgorithm,a=t.enc.Base64,c=t.algo.EvpKDF,s=n.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(e){return{encrypt:function(t,n,r){return("string"==typeof n?h:d).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?h:d).decrypt(e,t,n,r)}}}}()});n.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=t.mode={},f=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=u.CBC=function(){function t(t,n,r){var o=this._iv;o?this._iv=e:o=this._prevBlock;for(var i=0;r>i;i++)t[n+i]^=o[i]}var n=f.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),n.Decryptor=n.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=i}}),n}(),l=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,r=n<<24|n<<16|n<<8|n,i=[],a=0;n>a;a+=4)i.push(r);n=o.create(i,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}};n.BlockCipher=s.extend({cfg:s.cfg.extend({mode:u,padding:l}),reset:function(){s.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var p=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,e=e.salt,t=(e?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a);return t=t.replace(/(.{64})/g,"$1\n")},parse:function(e){var e=a.parse(e),t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return p.create({ciphertext:e,salt:n})}},d=n.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(e,t,n,r){var r=this.cfg.extend(r),o=e.createEncryptor(n,r),t=o.finalize(t),o=o.cfg;return p.create({ciphertext:t,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e):e}}),t=(t.kdf={}).OpenSSL={compute:function(e,t,n,r){return r||(r=o.random(8)),e=c.create({keySize:t+n}).compute(e,r),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,p.create({key:e,iv:n,salt:r})}},h=n.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:t}),encrypt:function(e,t,n,r){return r=this.cfg.extend(r),n=r.kdf.compute(n,e.keySize,e.ivSize),r.iv=n.iv,e=d.encrypt.call(this,e,t,n.key,r),e.mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.compute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){var e=CryptoJS,t=e.lib.BlockCipher,n=e.algo,r=[],o=[],i=[],a=[],c=[],s=[],u=[],f=[],l=[],p=[];(function(){for(var e=[],t=0;256>t;t++)e[t]=128>t?t<<1:283^t<<1;for(var n=0,d=0,t=0;256>t;t++){var h=d^d<<1^d<<2^d<<3^d<<4,h=99^(h>>>8^255&h);r[n]=h,o[h]=n;var g=e[n],m=e[g],v=e[m],y=257*e[h]^16843008*h;i[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,s[n]=y,y=16843009*v^65537*m^257*g^16843008*n,u[h]=y<<24|y>>>8,f[h]=y<<16|y>>>16,l[h]=y<<8|y>>>24,p[h]=y,n?(n=g^e[e[e[v^g]]],d^=e[e[d]]):n=d=1}})();var d=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],i=0;e>i;i++)if(n>i)o[i]=t[i];else{var a=o[i-1];i%n?n>6&&4==i%n&&(a=r[a>>>24]<<24|r[255&a>>>16]<<16|r[255&a>>>8]<<8|r[255&a]):(a=a<<8|a>>>24,a=r[a>>>24]<<24|r[255&a>>>16]<<16|r[255&a>>>8]<<8|r[255&a],a^=d[0|i/n]<<24),o[i]=o[i-n]^a}for(t=this._invKeySchedule=[],n=0;e>n;n++)i=e-n,a=n%4?o[i]:o[i-4],t[n]=4>n||4>=i?a:u[r[a>>>24]]^f[r[255&a>>>16]]^l[r[255&a>>>8]]^p[r[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,a,c,s,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,f,l,p,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,c){for(var s=this._nRounds,u=e[t]^n[0],f=e[t+1]^n[1],l=e[t+2]^n[2],p=e[t+3]^n[3],d=4,h=1;s>h;h++)var g=r[u>>>24]^o[255&f>>>16]^i[255&l>>>8]^a[255&p]^n[d++],m=r[f>>>24]^o[255&l>>>16]^i[255&p>>>8]^a[255&u]^n[d++],v=r[l>>>24]^o[255&p>>>16]^i[255&u>>>8]^a[255&f]^n[d++],p=r[p>>>24]^o[255&u>>>16]^i[255&f>>>8]^a[255&l]^n[d++],u=g,f=m,l=v;g=(c[u>>>24]<<24|c[255&f>>>16]<<16|c[255&l>>>8]<<8|c[255&p])^n[d++],m=(c[f>>>24]<<24|c[255&l>>>16]<<16|c[255&p>>>8]<<8|c[255&u])^n[d++],v=(c[l>>>24]<<24|c[255&p>>>16]<<16|c[255&u>>>8]<<8|c[255&f])^n[d++],p=(c[p>>>24]<<24|c[255&u>>>16]<<16|c[255&f>>>8]<<8|c[255&l])^n[d++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=p},keySize:8});e.AES=t._createHelper(n)}(),function(e,t,n,r,o,i){function a(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function c(e,t){return!("object"!=typeof e[t]||!e[t])}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!_(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!_(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(M=n.match(/\d+/g))}if(!M){var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),M=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(o){}}if(!M)return!1;var i=parseInt(M[0],10),a=parseInt(M[1],10);return D=i>9&&a>0,!0}function f(){if(!U){U=!0;for(var e=0;W.length>e;e++)W[e]();W.length=0}}function l(e,t){return U?(e.call(t),void 0):(W.push(function(){e.call(t)}),void 0)}function p(){var e=parent;if(""!==j)for(var t=0,n=j.split(".");n.length>t;t++)e=e[n[t]];return e.easyXDM}function d(t){return e.easyXDM=P,j=t,j&&(X="easyXDM_"+j.replace(".","_")+"_"),H}function h(e){return e.match(T)[3]}function g(e){return e.match(T)[4]||""}function m(e){var t=e.toLowerCase().match(T),n=t[2],r=t[3],o=t[4]||"";return("http:"==n&&":80"==o||"https:"==n&&":443"==o)&&(o=""),n+"//"+r+o}function v(e){if(e=e.replace(J,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;A.test(e);)e=e.replace(A,"");return e}function y(e,t){var n="",r=e.indexOf("#");-1!==r&&(n=e.substring(r),e=e.substring(0,r));var o=[];for(var a in t)t.hasOwnProperty(a)&&o.push(a+"="+i(t[a]));return e+(I?"#":-1==e.indexOf("?")?"?":"&")+o.join("&")+n}function _(e){return e===void 0}function b(e,t,n){var r;for(var o in t)t.hasOwnProperty(o)&&(o in e?(r=t[o],"object"==typeof r?b(e[o],r,n):n||(e[o]=t[o])):e[o]=t[o]);return e}function w(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=X+"TEST"+F,C=n!==e.elements[n.name],t.body.removeChild(e)}function k(e){_(C)&&w();var n;C?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(b(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var r=e.props.src;if(e.props.src="javascript:false",b(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&E(n,"load",e.onLoad),e.usePost){var o,i=e.container.appendChild(t.createElement("form"));if(i.target=n.name,i.action=r,i.method="POST","object"==typeof e.usePost)for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(C?o=t.createElement('<input name="'+a+'"/>'):(o=t.createElement("INPUT"),o.name=a),o.value=e.usePost[a],i.appendChild(o));i.submit(),i.parentNode.removeChild(i)}else n.src=r;return e.props.src=r,n}function x(e,t){"string"==typeof e&&(e=[e]);for(var n,r=e.length;r--;)if(n=e[r],n=RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function S(r){var o,i=r.protocol;if(r.isHost=r.isHost||_($.xdm_p),I=r.hash||!1,r.props||(r.props={}),r.isHost)r.remote=v(r.remote),r.channel=r.channel||"default"+F++,r.secret=Math.random().toString(16).substring(2),_(i)&&(i=m(n.href)==m(r.remote)?"4":a(e,"postMessage")||a(t,"postMessage")?"1":r.swf&&a(e,"ActiveXObject")&&u()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":r.remoteHelper?"2":"0");else if(r.channel=$.xdm_c.replace(/["'<>\\]/g,""),r.secret=$.xdm_s,r.remote=$.xdm_e.replace(/["'<>\\]/g,""),i=$.xdm_p,r.acl&&!x(r.acl,r.remote))throw Error("Access denied for "+r.remote);switch(r.protocol=i,i){case"0":if(b(r,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),r.isHost){if(!r.local){for(var c,s=n.protocol+"//"+n.host,f=t.body.getElementsByTagName("img"),l=f.length;l--;)if(c=f[l],c.src.substring(0,s.length)===s){r.local=c.src;break}r.local||(r.local=e)}var p={xdm_c:r.channel,xdm_p:0};r.local===e?(r.usePolling=!0,r.useParent=!0,r.local=n.protocol+"//"+n.host+n.pathname+n.search,p.xdm_e=r.local,p.xdm_pa=1):p.xdm_e=v(r.local),r.container&&(r.useResize=!1,p.xdm_po=1),r.remote=y(r.remote,p)}else b(r,{channel:$.xdm_c,remote:$.xdm_e,useParent:!_($.xdm_pa),usePolling:!_($.xdm_po),useResize:r.useParent?!1:r.useResize});o=[new H.stack.HashTransport(r),new H.stack.ReliableBehavior({}),new H.stack.QueueBehavior({encode:!0,maxLength:4e3-r.remote.length}),new H.stack.VerifyBehavior({initiate:r.isHost})];break;case"1":o=[new H.stack.PostMessageTransport(r)];break;case"2":r.remoteHelper=v(r.remoteHelper),o=[new H.stack.NameTransport(r),new H.stack.QueueBehavior,new H.stack.VerifyBehavior({initiate:r.isHost})];break;case"3":o=[new H.stack.NixTransport(r)];break;case"4":o=[new H.stack.SameOriginTransport(r)];break;case"5":o=[new H.stack.FrameElementTransport(r)];break;case"6":M||u(),o=[new H.stack.FlashTransport(r)]}return o.push(new H.stack.QueueBehavior({lazy:r.lazy,remove:!0})),o}function O(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,o=e.length;o>r;r++)t=e[r],b(t,n,!0),0!==r&&(t.down=e[r-1]),r!==o-1&&(t.up=e[r+1]);return t}function B(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var C,M,D,E,N,z=this,F=Math.floor(1e4*Math.random()),R=Function.prototype,T=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,A=/[\-\w]+\/\.\.\//,J=/([^:])\/\//g,j="",H={},P=e.easyXDM,X="easyXDM_",I=!1;if(a(e,"addEventListener"))E=function(e,t,n){e.addEventListener(t,n,!1)},N=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!a(e,"attachEvent"))throw Error("Browser not supported");E=function(e,t,n){e.attachEvent("on"+t,n)},N=function(e,t,n){e.detachEvent("on"+t,n)}}var L,U=!1,W=[];if("readyState"in t?(L=t.readyState,U="complete"==L||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==L||"interactive"==L)):U=!!t.body,!U){if(a(e,"addEventListener"))E(t,"DOMContentLoaded",f);else if(E(t,"readystatechange",function(){"complete"==t.readyState&&f()}),t.documentElement.doScroll&&e===top){var q=function(){if(!U){try{t.documentElement.doScroll("left")}catch(e){return r(q,1),void 0}f()}};q()}E(e,"load",f)}var $=function(e){e=e.substring(1).split("&");for(var t,n={},r=e.length;r--;)t=e[r].split("="),n[t[0]]=o(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),K=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(K=function(){return e},e):null)};b(H,{version:"2.4.17.1",query:$,stack:{},apply:b,getJSONObject:K,whenReady:l,noConflict:d}),H.DomHelper={on:E,un:N,requiresJSON:function(n){c(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"><'+"/script>")}},function(){var e={};H.Fn={set:function(t,n){e[t]=n},get:function(t,n){var r=e[t];return n&&delete e[t],r}}}(),H.Socket=function(e){var t=O(S(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=m(e.remote);this.origin=m(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},H.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var r=t.local[n];"function"==typeof r&&(t.local[n]={method:r})}var o=O(S(e).concat([new H.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=m(e.remote),this.destroy=function(){o.destroy()},o.init()},H.stack.SameOriginTransport=function(e){var t,o,i,a;return t={outgoing:function(e,t,n){i(e),n&&n()},destroy:function(){o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){a=m(e.remote),e.isHost?(b(e.props,{src:y(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:X+e.channel+"_provider"}),o=k(e),H.Fn.set(e.channel,function(e){return i=e,r(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,a)}})):(i=p().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,a)}),r(function(){t.up.callback(!0)},0))},init:function(){l(t.onDOMReady,t)}}},H.stack.FlashTransport=function(e){function o(e){r(function(){a.up.incoming(e,s)},0)}function i(n){var r=e.swf+"?host="+e.isHost,o="easyXDM_swf_"+Math.floor(1e4*Math.random());H.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){H.stack.FlashTransport[n].swf=u=f.firstChild;for(var e=H.stack.FlashTransport[n].queue,t=0;e.length>t;t++)e[t]();e.length=0}),e.swfContainer?f="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(f=t.createElement("div"),b(f.style,D&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(f));var i="callback=flash_loaded"+n.replace(/[\-.]/g,"_")+"&proto="+z.location.protocol+"&domain="+h(z.location.href)+"&port="+g(z.location.href)+"&ns="+j;f.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+o+"' data='"+r+"'>"+"<param name='allowScriptAccess' value='always'></param>"+"<param name='wmode' value='transparent'>"+"<param name='movie' value='"+r+"'></param>"+"<param name='flashvars' value='"+i+"'></param>"+"<embed type='application/x-shockwave-flash' FlashVars='"+i+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed>"+"</object>"}var a,c,s,u,f;return a={outgoing:function(t,n,r){u.postMessage(e.channel,""+t),r&&r()},destroy:function(){try{u.destroyChannel(e.channel)}catch(t){}u=null,c&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){s=e.remote,H.Fn.set("flash_"+e.channel+"_init",function(){r(function(){a.up.callback(!0)})}),H.Fn.set("flash_"+e.channel+"_onMessage",o),e.swf=v(e.swf);var t=h(e.swf),f=function(){H.stack.FlashTransport[t].init=!0,u=H.stack.FlashTransport[t].swf,u.createChannel(e.channel,e.secret,m(e.remote),e.isHost),e.isHost&&(D&&e.swfNoThrottle&&b(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),b(e.props,{src:y(e.remote,{xdm_e:m(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:X+e.channel+"_provider"}),c=k(e))};H.stack.FlashTransport[t]&&H.stack.FlashTransport[t].init?f():H.stack.FlashTransport[t]?H.stack.FlashTransport[t].queue.push(f):(H.stack.FlashTransport[t]={queue:[f]},i(t))},init:function(){l(a.onDOMReady,a)}}},H.stack.PostMessageTransport=function(t){function o(e){if(e.origin)return m(e.origin);if(e.uri)return m(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function i(e){var n=o(e);n==u&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&a.up.incoming(e.data.substring(t.channel.length+1),n)}var a,c,s,u;return a={outgoing:function(e,n,r){s.postMessage(t.channel+" "+e,n||u),r&&r()},destroy:function(){N(e,"message",i),c&&(s=null,c.parentNode.removeChild(c),c=null)},onDOMReady:function(){if(u=m(t.remote),t.isHost){var o=function(n){n.data==t.channel+"-ready"&&(s="postMessage"in c.contentWindow?c.contentWindow:c.contentWindow.document,N(e,"message",o),E(e,"message",i),r(function(){a.up.callback(!0)},0))};E(e,"message",o),b(t.props,{src:y(t.remote,{xdm_e:m(n.href),xdm_c:t.channel,xdm_p:1}),name:X+t.channel+"_provider"}),c=k(t)}else E(e,"message",i),s="postMessage"in e.parent?e.parent:e.parent.document,s.postMessage(t.channel+"-ready",u),r(function(){a.up.callback(!0)},0)},init:function(){l(a.onDOMReady,a)}}},H.stack.FrameElementTransport=function(o){var i,a,c,s;return i={outgoing:function(e,t,n){c.call(this,e),n&&n()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){s=m(o.remote),o.isHost?(b(o.props,{src:y(o.remote,{xdm_e:m(n.href),xdm_c:o.channel,xdm_p:5}),name:X+o.channel+"_provider"}),a=k(o),a.fn=function(e){return delete a.fn,c=e,r(function(){i.up.callback(!0)},0),function(e){i.up.incoming(e,s)}}):(t.referrer&&m(t.referrer)!=$.xdm_e&&(e.top.location=$.xdm_e),c=e.frameElement.fn(function(e){i.up.incoming(e,s)}),i.up.callback(!0))},init:function(){l(i.onDOMReady,i)}}},H.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(c?"#_3":"#_2")+e.channel;s.contentWindow.sendMessage(t,n)}function n(){c?2!==++f&&c||a.up.callback(!0):(t("ready"),a.up.callback(!0))}function o(e){a.up.incoming(e,d)}function i(){p&&r(function(){p(!0)},0)}var a,c,s,u,f,p,d,h;return a={outgoing:function(e,n,r){p=r,t(e)},destroy:function(){s.parentNode.removeChild(s),s=null,c&&(u.parentNode.removeChild(u),u=null)},onDOMReady:function(){c=e.isHost,f=0,d=m(e.remote),e.local=v(e.local),c?(H.Fn.set(e.channel,function(t){c&&"ready"===t&&(H.Fn.set(e.channel,o),n())}),h=y(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),b(e.props,{src:h+"#"+e.channel,name:X+e.channel+"_provider"}),u=k(e)):(e.remoteHelper=e.remote,H.Fn.set(e.channel,o));var t=function(){var o=s||this;N(o,"load",t),H.Fn.set(e.channel+"_load",i),function a(){"function"==typeof o.contentWindow.sendMessage?n():r(a,50)}()};s=k({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){l(a.onDOMReady,a)}}},H.stack.HashTransport=function(t){function n(e){if(g){var n=t.remote+"#"+d++ +"_"+e;(s||!v?g.contentWindow:g).location=n}}function o(e){p=e,c.up.incoming(p.substring(p.indexOf("_")+1),y)}function i(){if(h){var e=h.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=p&&o(t)}}function a(){u=setInterval(i,f)}var c,s,u,f,p,d,h,g,v,y;return c={outgoing:function(e){n(e)},destroy:function(){e.clearInterval(u),(s||!v)&&g.parentNode.removeChild(g),g=null},onDOMReady:function(){if(s=t.isHost,f=t.interval,p="#"+t.channel,d=0,v=t.useParent,y=m(t.remote),s){if(b(t.props,{src:t.remote,name:X+t.channel+"_provider"}),v)t.onLoad=function(){h=e,a(),c.up.callback(!0)};else{var n=0,o=t.delay/50;(function i(){if(++n>o)throw Error("Unable to reference listenerwindow");try{h=g.contentWindow.frames[X+t.channel+"_consumer"]}catch(e){}h?(a(),c.up.callback(!0)):r(i,50)})()}g=k(t)}else h=e,a(),v?(g=parent,c.up.callback(!0)):(b(t,{props:{src:t.remote+"#"+t.channel+new Date,name:X+t.channel+"_consumer"},onLoad:function(){c.up.callback(!0)}}),g=k(t))},init:function(){l(c.onDOMReady,c)}}},H.stack.ReliableBehavior=function(){var e,t,n=0,r=0,o="";return e={incoming:function(i,a){var c=i.indexOf("_"),s=i.substring(0,c).split(",");i=i.substring(c+1),s[0]==n&&(o="",t&&(t(!0),t=null)),i.length>0&&(e.down.outgoing(s[1]+","+n+"_"+o,a),r!=s[1]&&(r=s[1],e.up.incoming(i,a)))},outgoing:function(i,a,c){o=i,t=c,e.down.outgoing(r+","+ ++n+"_"+i,a)}}},H.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===c.length)return B(n),void 0;if(!s&&0!==c.length&&!a){s=!0;var o=c.shift();n.down.outgoing(o.data,o.origin,function(e){s=!1,o.callback&&r(function(){o.callback(e)},0),t()})}}var n,a,c=[],s=!0,u="",f=0,l=!1,p=!1;return n={init:function(){_(e)&&(e={}),e.maxLength&&(f=e.maxLength,p=!0),e.lazy?l=!0:n.down.init()},callback:function(e){s=!1;var r=n.up;t(),r.callback(e)},incoming:function(t,r){if(p){var i=t.indexOf("_"),a=parseInt(t.substring(0,i),10);u+=t.substring(i+1),0===a&&(e.encode&&(u=o(u)),n.up.incoming(u,r),u="")}else n.up.incoming(t,r)},outgoing:function(r,o,a){e.encode&&(r=i(r));var s,u=[];if(p){for(;0!==r.length;)s=r.substring(0,f),r=r.substring(s.length),u.push(s);for(;s=u.shift();)c.push({data:u.length+"_"+s,origin:o,callback:0===u.length?a:null})}else c.push({data:r,origin:o,callback:a});l?n.down.init():t()},destroy:function(){a=!0,n.down.destroy()}}},H.stack.VerifyBehavior=function(e){function t(){r=Math.random().toString(16).substring(2),n.down.outgoing(r)}var n,r,o;return n={incoming:function(i,a){var c=i.indexOf("_");-1===c?i===r?n.up.callback(!0):o||(o=i,e.initiate||t(),n.down.outgoing(i)):i.substring(0,c)===o&&n.up.incoming(i.substring(c+1),a)},outgoing:function(e,t,o){n.down.outgoing(r+"_"+e,t,o)},callback:function(){e.initiate&&t()}}},H.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",i.down.outgoing(a.stringify(e))}function r(e,t){var r=Array.prototype.slice;return function(){var o,i=arguments.length,a={method:t};i>0&&"function"==typeof arguments[i-1]?(i>1&&"function"==typeof arguments[i-2]?(o={success:arguments[i-2],error:arguments[i-1]},a.params=r.call(arguments,0,i-2)):(o={success:arguments[i-1]},a.params=r.call(arguments,0,i-1)),u[""+ ++c]=o,a.id=c):a.params=r.call(arguments,0),e.namedParams&&1===a.params.length&&(a.params=a.params[0]),n(a)}}function o(e,t,r,o){if(!r)return t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}),void 0;var i,a;t?(i=function(e){i=R,n({id:t,result:e})},a=function(e,r){a=R;var o={id:t,error:{code:-32099,message:e}};r&&(o.error.data=r),n(o)}):i=a=R,s(o)||(o=[o]);try{var c=r.method.apply(r.scope,o.concat([i,a]));_(c)||i(c)}catch(u){a(u.message)}}var i,a=t.serializer||K(),c=0,u={};return i={incoming:function(e){var r=a.parse(e);if(r.method)t.handle?t.handle(r,n):o(r.method,r.id,t.local[r.method],r.params);else{var i=u[r.id];r.error?i.error&&i.error(r.error):i.success&&i.success(r.result),delete u[r.id]}},init:function(){if(t.remote)for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=r(t.remote[n],n));i.down.init()},destroy:function(){for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];i.down.destroy()}}},z.easyXDM=H}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,c=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?s+"":"null";case"boolean":case"null":return s+"";case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(i=s.length,n=0;i>n;n+=1)a[n]=str(n,s)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+c+"]":"["+a.join(",")+"]",gap=c,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,s),o&&a.push(quote(r)+(gap?": ":":")+o));else for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(o=str(r,s),o&&a.push(quote(r)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+c+"}":"{"+a.join(",")+"}",gap=c,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");
return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){function e(){try{return c in i&&i[c]}catch(e){return!1}}function t(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(r),u.appendChild(r),r.addBehavior("#default#userData"),r.load(c);var n=e.apply(o,t);return u.removeChild(r),n}}function n(e){return e.replace(p,"___")}var r,o={},i=window,a=i.document,c="localStorage",s="__storejs__";if(o.disabled=!1,o.set=function(){},o.get=function(){},o.remove=function(){},o.clear=function(){},o.transact=function(e,t,n){var r=o.get(e);null==n&&(n=t,t=null),r===void 0&&(r=t||{}),n(r),o.set(e,r)},o.getAll=function(){},o.serialize=function(e){return JSON.stringify(e)},o.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},e())r=i[c],o.set=function(e,t){return void 0===t?o.remove(e):(r.setItem(e,o.serialize(t)),t)},o.get=function(e){return o.deserialize(r.getItem(e))},o.remove=function(e){r.removeItem(e)},o.clear=function(){r.clear()},o.getAll=function(){for(var e={},t=0;r.length>t;++t){var n=r.key(t);e[n]=o.get(n)}return e};else if(a.documentElement.addBehavior){var u,f;try{f=new ActiveXObject("htmlfile"),f.open(),f.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),f.close(),u=f.w.frames[0].document,r=u.createElement("div")}catch(l){r=a.createElement("div"),u=a.body}var p=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.set=t(function(e,t,r){return t=n(t),void 0===r?o.remove(t):(e.setAttribute(t,o.serialize(r)),e.save(c),r)}),o.get=t(function(e,t){return t=n(t),o.deserialize(e.getAttribute(t))}),o.remove=t(function(e,t){t=n(t),e.removeAttribute(t),e.save(c)}),o.clear=t(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(c);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(c)}),o.getAll=t(function(e){for(var t,r=e.XMLDocument.documentElement.attributes,i={},a=0;t=r[a];++a){var c=n(t.name);i[t.name]=o.deserialize(e.getAttribute(c))}return i})}try{o.set(s,s),o.get(s)!=s&&(o.disabled=!0),o.remove(s)}catch(l){o.disabled=!0}o.enabled=!o.disabled,"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd?define(o):XDStorage.store=o}(),XDStorage.easyXDM=easyXDM.noConflict("XDStorage"),XDStorage.setup=function(e){function t(e,t){try{var n=store.get("keys")||{};t?delete n[e]:n[e]=(new Date).getTime(),store.set("keys",n)}catch(r){store.clear()}}function n(){var e=store.get("keys"),t=(new Date).getTime(),n=!1;for(var r in e)t-e[r]>5184e3&&(n=!0,delete e[r]);n&&store.set("keys",e)}var r=e||{};new XDStorage.easyXDM.Rpc({swf:r.swf},{local:{set:{method:function(e,n,r,o){var i=CryptoJS.AES.encrypt(JSON.stringify(r),n)+"";store.set(e,i),t(e),o(r)}},get:{method:function(e,t,n){var r,o=store.get(e);if(o)try{r=JSON.parse(CryptoJS.AES.decrypt(o,t).toString(CryptoJS.enc.Utf8))}catch(i){store.set(e)}n(r)}},remove:{method:function(e,n){store.set(e),t(e,!0),n()}}}});try{n()}catch(o){store.clear()}},"function"==typeof define&&define.amd?define(XDStorage):this.XDStorage=XDStorage})();